#!/usr/bin/python
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import numpy as np
import sys

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

ax.set_xlabel('RPS ($\\alpha$)')
ax.set_ylabel('Capacity ($w$)')
ax.set_zlabel('Profit of the renewable')

rps      = np.arange(0,1.1,0.1)
capacity = np.arange(10,501,10)

profit_raw   ="""e1      899.000    7960.900    4107.400    2799.567    2141.275    1744.900    1480.067    1290.614    1148.369    1037.641     949.000
e2     1796.000   15543.600    8129.600    5564.933    4265.100    3479.600    2953.600    2576.743    2293.475    2072.785    1896.000
e3     2691.000   22748.100   12066.600    8296.100    6371.475    5204.100    4420.600    3858.386    3435.319    3105.433    2841.000
e4     3584.000   29574.400   15918.400   10993.067    8460.400    6918.400    5881.067    5135.543    4573.900    4135.585    3784.000
e5     4475.000   36022.500   19685.000   13655.833   10531.875    8622.500    7335.000    6408.214    5709.219    5163.241    4725.000
e6     5364.000    5364.000   23366.400   16284.400   12585.900   10316.400    8782.400    7676.400    6841.275    6188.400    5664.000
e7     6251.000    6251.000   26962.600   18878.767   14622.475   12000.100   10223.267    8940.100    7970.069    7211.063    6601.000
e8     7136.000    7136.000   30473.600   21438.933   16641.600   13673.600   11657.600   10199.314    9095.600    8231.230    7536.000
e9     8019.000    8019.000   33899.400   23964.900   18643.275   15336.900   13085.400   11454.043   10217.869    9248.900    8469.000
e10    8900.000    8900.000   37240.000   26456.667   20627.500   16990.000   14506.667   12704.286   11336.875   10264.074    9400.000
e11    9779.000    9779.000   40495.400   28914.233   22594.275   18632.900   15921.400   13950.043   12452.619   11276.752   10329.000
e12   10656.000   10656.000   43665.600   31337.600   24543.600   20265.600   17329.600   15191.314   13565.100   12286.933   11256.000
e13   11531.000   11531.000   11531.000   33726.767   26475.475   21888.100   18731.267   16428.100   14674.319   13294.619   12181.000
e14   12404.000   12404.000   12404.000   36081.733   28389.900   23500.400   20126.400   17660.400   15780.275   14299.807   13104.000
e15   13275.000   13275.000   13275.000   38402.500   30286.875   25102.500   21515.000   18888.214   16882.969   15302.500   14025.000
e16   14144.000   14144.000   14144.000   40689.067   32166.400   26694.400   22897.067   20111.543   17982.400   16302.696   14944.000
e17   15011.000   15011.000   15011.000   42941.433   34028.475   28276.100   24272.600   21330.386   19078.569   17300.396   15861.000
e18   15876.000   15876.000   15876.000   45159.600   35873.100   29847.600   25641.600   22544.743   20171.475   18295.600   16776.000
e19   16739.000   16739.000   16739.000   47343.567   37700.275   31408.900   27004.067   23754.614   21261.119   19288.307   17689.000
e20   17600.000   17600.000   17600.000   49493.333   39510.000   32960.000   28360.000   24960.000   22347.500   20278.519   18600.000
e21   18459.000   18459.000   18459.000   51608.900   41302.275   34500.900   29709.400   26160.900   23430.619   21266.233   19509.000
e22   19316.000   19316.000   19316.000   19316.000   43077.100   36031.600   31052.267   27357.314   24510.475   22251.452   20416.000
e23   20171.000   20171.000   20171.000   20171.000   44834.475   37552.100   32388.600   28549.243   25587.069   23234.174   21321.000
e24   21024.000   21024.000   21024.000   21024.000   46574.400   39062.400   33718.400   29736.686   26660.400   24214.400   22224.000
e25   21875.000   21875.000   21875.000   21875.000   48296.875   40562.500   35041.667   30919.643   27730.469   25192.130   23125.000
e26   22724.000   22724.000   22724.000   22724.000   50001.900   42052.400   36358.400   32098.114   28797.275   26167.363   24024.000
e27   23571.000   23571.000   23571.000   23571.000   51689.475   43532.100   37668.600   33272.100   29860.819   27140.100   24921.000
e28   24416.000   24416.000   24416.000   24416.000   53359.600   45001.600   38972.267   34441.600   30921.100   28110.341   25816.000
e29   25259.000   25259.000   25259.000   25259.000   55012.275   46460.900   40269.400   35606.614   31978.119   29078.085   26709.000
e30   26100.000   26100.000   26100.000   26100.000   56647.500   47910.000   41560.000   36767.143   33031.875   30043.333   27600.000
e31   26939.000   26939.000   26939.000   26939.000   58265.275   49348.900   42844.067   37923.186   34082.369   31006.085   28489.000
e32   27776.000   27776.000   27776.000   27776.000   59865.600   50777.600   44121.600   39074.743   35129.600   31966.341   29376.000
e33   28611.000   28611.000   28611.000   28611.000   61448.475   52196.100   45392.600   40221.814   36173.569   32924.100   30261.000
e34   29444.000   29444.000   29444.000   29444.000   29444.000   53604.400   46657.067   41364.400   37214.275   33879.363   31144.000
e35   30275.000   30275.000   30275.000   30275.000   30275.000   55002.500   47915.000   42502.500   38251.719   34832.130   32025.000
e36   31104.000   31104.000   31104.000   31104.000   31104.000   56390.400   49166.400   43636.114   39285.900   35782.400   32904.000
e37   31931.000   31931.000   31931.000   31931.000   31931.000   57768.100   50411.267   44765.243   40316.819   36730.174   33781.000
e38   32756.000   32756.000   32756.000   32756.000   32756.000   59135.600   51649.600   45889.886   41344.475   37675.452   34656.000
e39   33579.000   33579.000   33579.000   33579.000   33579.000   60492.900   52881.400   47010.043   42368.869   38618.233   35529.000
e40   34400.000   34400.000   34400.000   34400.000   34400.000   61840.000   54106.667   48125.714   43390.000   39558.519   36400.000
e41   35219.000   35219.000   35219.000   35219.000   35219.000   63176.900   55325.400   49236.900   44407.869   40496.307   37269.000
e42   36036.000   36036.000   36036.000   36036.000   36036.000   64503.600   56537.600   50343.600   45422.475   41431.600   38136.000
e43   36851.000   36851.000   36851.000   36851.000   36851.000   65820.100   57743.267   51445.814   46433.819   42364.396   39001.000
e44   37664.000   37664.000   37664.000   37664.000   37664.000   67126.400   58942.400   52543.543   47441.900   43294.696   39864.000
e45   38475.000   38475.000   38475.000   38475.000   38475.000   68422.500   60135.000   53636.786   48446.719   44222.500   40725.000
e46   39284.000   39284.000   39284.000   39284.000   39284.000   69708.400   61321.067   54725.543   49448.275   45147.807   41584.000
e47   40091.000   40091.000   40091.000   40091.000   40091.000   70984.100   62500.600   55809.814   50446.569   46070.619   42441.000
e48   40896.000   40896.000   40896.000   40896.000   40896.000   72249.600   63673.600   56889.600   51441.600   46990.933   43296.000
e49   41699.000   41699.000   41699.000   41699.000   41699.000   73504.900   64840.067   57964.900   52433.369   47908.752   44149.000
e50   42500.000   42500.000   42500.000   42500.000   42500.000   42500.000   66000.000   59035.714   53421.875   48824.074   45000.000"""

z = np.zeros(shape=(50,11))
i = 0
for p_raw in profit_raw.split('\n'):
    p = p_raw.split()[1:]
    z[i] = np.array(map(float, p))
    i +=1

x,y = np.meshgrid(rps,capacity)
ax.plot_surface(x, y, z, rstride=10, cstride=10)
plt.show()
fig.savefig('foo.png',bbox_inches='tight')


