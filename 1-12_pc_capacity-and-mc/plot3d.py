#!/usr/bin/python
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
from pylab import *
import numpy as np
import sys

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

ax.set_xlabel('RPS ($\\alpha$)')
ax.set_ylabel('Capacity ($w$)')
ax.set_zlabel('Profit of the renewable')

rps      = np.arange(0,1.1,0.1)
capacity = np.arange(10,501,10)

profit_raw   ="""e1       49.000    7191.900    3273.400    1955.011    1293.525     895.900     630.511     440.798     298.431     187.653      99.000
e2       96.000   14167.600    6493.600    3886.711    2574.100    1783.600    1255.378     877.478     593.725     372.835     196.000
e3      141.000   20927.100    9660.600    5795.100    3841.725    2663.100    1874.600    1310.039     885.881     555.544     291.000
e4      184.000   27470.400   12774.400    7680.178    5096.400    3534.400    2488.178    1738.482    1174.900     735.783     384.000
e5      225.000   33797.500   15835.000    9541.944    6338.125    4397.500    3096.111    2162.806    1460.781     913.549     475.000
e6      264.000     264.000   18842.400   11380.400    7566.900    5252.400    3698.400    2583.012    1743.525    1088.844     564.000
e7      301.000     301.000   21796.600   13195.544    8782.725    6099.100    4295.044    2999.100    2023.131    1261.668     651.000
e8      336.000     336.000   24697.600   14987.378    9985.600    6937.600    4886.044    3411.069    2299.600    1432.020     736.000
e9      369.000     369.000   27545.400   16755.900   11175.525    7767.900    5471.400    3818.920    2572.931    1599.900     819.000
e10     400.000     400.000   30340.000   18501.111   12352.500    8590.000    6051.111    4222.653    2843.125    1765.309     900.000
e11     429.000     429.000   33081.400   20223.011   13516.525    9403.900    6625.178    4622.267    3110.181    1928.246     979.000
e12     456.000     456.000   35769.600   21921.600   14667.600   10209.600    7193.600    5017.763    3374.100    2088.711    1056.000
e13     481.000     481.000     481.000   23596.878   15805.725   11007.100    7756.378    5409.141    3634.881    2246.705    1131.000
e14     504.000     504.000     504.000   25248.844   16930.900   11796.400    8313.511    5796.400    3892.525    2402.227    1204.000
e15     525.000     525.000     525.000   26877.500   18043.125   12577.500    8865.000    6179.541    4147.031    2555.278    1275.000
e16     544.000     544.000     544.000   28482.844   19142.400   13350.400    9410.844    6558.563    4398.400    2705.857    1344.000
e17     561.000     561.000     561.000   30064.878   20228.725   14115.100    9951.044    6933.467    4646.631    2853.964    1411.000
e18     576.000     576.000     576.000   31623.600   21302.100   14871.600   10485.600    7304.253    4891.725    2999.600    1476.000
e19     589.000     589.000     589.000   33159.011   22362.525   15619.900   11014.511    7670.920    5133.681    3142.764    1539.000
e20     600.000     600.000     600.000   34671.111   23410.000   16360.000   11537.778    8033.469    5372.500    3283.457    1600.000
e21     609.000     609.000     609.000   36159.900   24444.525   17091.900   12055.400    8391.900    5608.181    3421.678    1659.000
e22     616.000     616.000     616.000     616.000   25466.100   17815.600   12567.378    8746.212    5840.725    3557.427    1716.000
e23     621.000     621.000     621.000     621.000   26474.725   18531.100   13073.711    9096.406    6070.131    3690.705    1771.000
e24     624.000     624.000     624.000     624.000   27470.400   19238.400   13574.400    9442.482    6296.400    3821.511    1824.000
e25     625.000     625.000     625.000     625.000   28453.125   19937.500   14069.444    9784.439    6519.531    3949.846    1875.000
e26     624.000     624.000     624.000     624.000   29422.900   20628.400   14558.844   10122.278    6739.525    4075.709    1924.000
e27     621.000     621.000     621.000     621.000   30379.725   21311.100   15042.600   10455.998    6956.381    4199.100    1971.000
e28     616.000     616.000     616.000     616.000   31323.600   21985.600   15520.711   10785.600    7170.100    4320.020    2016.000
e29     609.000     609.000     609.000     609.000   32254.525   22651.900   15993.178   11111.084    7380.681    4438.468    2059.000
e30     600.000     600.000     600.000     600.000   33172.500   23310.000   16460.000   11432.449    7588.125    4554.444    2100.000
e31     589.000     589.000     589.000     589.000   34077.525   23959.900   16921.178   11749.696    7792.431    4667.949    2139.000
e32     576.000     576.000     576.000     576.000   34969.600   24601.600   17376.711   12062.824    7993.600    4778.983    2176.000
e33     561.000     561.000     561.000     561.000   35848.725   25235.100   17826.600   12371.835    8191.631    4887.544    2211.000
e34     544.000     544.000     544.000     544.000     544.000   25860.400   18270.844   12676.727    8386.525    4993.635    2244.000
e35     525.000     525.000     525.000     525.000     525.000   26477.500   18709.444   12977.500    8578.281    5097.253    2275.000
e36     504.000     504.000     504.000     504.000     504.000   27086.400   19142.400   13274.155    8766.900    5198.400    2304.000
e37     481.000     481.000     481.000     481.000     481.000   27687.100   19569.711   13566.692    8952.381    5297.075    2331.000
e38     456.000     456.000     456.000     456.000     456.000   28279.600   19991.378   13855.110    9134.725    5393.279    2356.000
e39     429.000     429.000     429.000     429.000     429.000   28863.900   20407.400   14139.410    9313.931    5487.011    2379.000
e40     400.000     400.000     400.000     400.000     400.000   29440.000   20817.778   14419.592    9490.000    5578.272    2400.000
e41     369.000     369.000     369.000     369.000     369.000   30007.900   21222.511   14695.655    9662.931    5667.060    2419.000
e42     336.000     336.000     336.000     336.000     336.000   30567.600   21621.600   14967.600    9832.725    5753.378    2436.000
e43     301.000     301.000     301.000     301.000     301.000   31119.100   22015.044   15235.427    9999.381    5837.223    2451.000
e44     264.000     264.000     264.000     264.000     264.000   31662.400   22402.844   15499.135   10162.900    5918.598    2464.000
e45     225.000     225.000     225.000     225.000     225.000   32197.500   22785.000   15758.724   10323.281    5997.500    2475.000
e46     184.000     184.000     184.000     184.000     184.000   32724.400   23161.511   16014.196   10480.525    6073.931    2484.000
e47     141.000     141.000     141.000     141.000     141.000   33243.100   23532.378   16265.549   10634.631    6147.890    2491.000
e48      96.000      96.000      96.000      96.000      96.000   33753.600   23897.600   16512.784   10785.600    6219.378    2496.000
e49      49.000      49.000      49.000      49.000      49.000   34255.900   24257.178   16755.900   10933.431    6288.394    2499.000
e50 -9.3860E-10 -9.3860E-10 -9.3860E-10 -9.3860E-10 -9.3860E-10 -9.3860E-10   24611.111   16994.898   11078.125    6354.938    2500.000"""

z = np.zeros(shape=(50,11))
i = 0
for p_raw in profit_raw.split('\n'):
    p = p_raw.split()[1:]
    z[i] = np.array(map(float, p))
    i +=1

x,y = np.meshgrid(rps,capacity)

ax.plot_surface(x, y, z, rstride=10, cstride=10)
#plt.show()
fig.savefig('foo.png',bbox_inches='tight')

