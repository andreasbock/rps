#!/usr/bin/python
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import numpy as np
import sys

profit_raw   ="""e1       48.960    7110.879    3257.379    1949.546    1291.254     894.879     630.046     440.593     298.348     187.620      98.960
e2       95.840   13843.516    6429.516    3864.850    2565.016    1779.516    1253.516     876.659     593.391     372.701     195.840
e3      140.640   20197.911    9516.411    5745.911    3821.286    2653.911    1870.411    1308.197     885.130     555.245     290.640
e4      183.360   26174.065   12518.065    7592.731    5060.065    3518.065    2480.731    1735.208    1173.565     735.250     383.360
e5      224.000   31771.976   15434.476    9405.310    6281.351    4371.976    3084.476    2157.690    1458.695     912.717     474.000
e6      262.560     262.560   18265.646   11183.646    7485.146    5215.646    3681.646    2575.646    1740.521    1087.646     562.560
e7      299.040     299.040   21011.573   12927.740    8671.448    6049.073    4272.240    2989.073    2019.042    1260.036     649.040
e8      333.440     333.440   23672.259   14637.592    9840.259    6872.259    4856.259    3397.973    2294.259    1429.889     733.440
e9      365.760     365.760   26247.703   16313.203   10991.578    7685.203    5433.703    3802.346    2566.172    1597.203     815.760
e10     396.000     396.000   28737.905   17954.571   12125.405    8487.905    6004.571    4202.190    2834.780    1761.979     896.000
e11     424.160     424.160   31142.865   19561.698   13241.740    9280.365    6568.865    4597.508    3100.084    1924.217     974.160
e12     450.240     450.240   33462.583   21134.583   14340.583   10062.583    7126.583    4988.297    3362.083    2083.916    1050.240
e13     474.240     474.240     474.240   22673.226   15421.934   10834.559    7677.726    5374.559    3620.778    2241.078    1124.240
e14     496.160     496.160     496.160   24177.627   16485.793   11596.293    8222.293    5756.293    3876.168    2395.701    1196.160
e15     516.000     516.000     516.000   25647.786   17532.161   12347.786    8760.286    6133.500    4128.254    2547.786    1266.000
e16     533.760     533.760     533.760   27083.703   18561.036   13089.036    9291.703    6506.179    4377.036    2697.332    1333.760
e17     549.440     549.440     549.440   28485.378   19572.420   13820.045    9816.545    6874.330    4622.514    2844.341    1399.440
e18     563.040     563.040     563.040   29852.811   20566.311   14540.811   10334.811    7237.954    4864.686    2988.811    1463.040
e19     574.560     574.560     574.560   31186.003   21542.711   15251.336   10846.503    7597.050    5103.555    3130.744    1524.560
e20     584.000     584.000     584.000   32484.952   22501.619   15951.619   11351.619    7951.619    5339.119    3270.138    1584.000
e21     591.360     591.360     591.360   33642.560   23443.035   16641.660   11850.160    8301.660    5571.379    3406.993    1641.360
e22     596.640     596.640     596.640     596.640   24366.959   17321.459   12342.126    8647.173    5800.334    3541.311    1696.640
e23     599.840     599.840     599.840     599.840   25273.391   17991.016   12827.516    8988.159    6025.985    3673.090    1749.840
e24     600.960     600.960     600.960     600.960   26162.331   18650.331   13306.331    9324.617    6248.331    3802.331    1800.960
e25     600.000     600.000     600.000     600.000   27033.780   19299.405   13778.571    9656.548    6467.374    3929.034    1850.000
e26     596.960     596.960     596.960     596.960   27887.736   19938.236   14244.236    9983.950    6683.111    4053.199    1896.960
e27     591.840     591.840     591.840     591.840   28724.201   20566.826   14703.326   10306.826    6895.544    4174.826    1941.840
e28     584.640     584.640     584.640     584.640   29543.173   21185.173   15155.840   10625.173    7104.673    4293.914    1984.640
e29     575.360     575.360     575.360     575.360   30344.654   21793.279   15601.779   10938.993    7310.498    4410.464    2025.360
e30     564.000     564.000     564.000     564.000   31128.643   22391.143   16041.143   11248.286    7513.018    4524.476    2064.000
e31     550.560     550.560     550.560     550.560   31895.140   22978.765   16473.931   11553.050    7712.234    4635.950    2100.560
e32     535.040     535.040     535.040     535.040   32531.840   23556.145   16900.145   11853.288    7908.145    4744.886    2135.040
e33     517.440     517.440     517.440     517.440   33083.490   24123.283   17319.783   12148.997    8100.752    4851.283    2167.440
e34     497.760     497.760     497.760     497.760     497.760   24680.179   17732.846   12440.179    8290.054    4955.142    2197.760
e35     476.000     476.000     476.000     476.000     476.000   25226.833   18139.333   12726.833    8476.052    5056.463    2226.000
e36     452.160     452.160     452.160     452.160     452.160   25763.246   18539.246   13008.960    8658.746    5155.246    2252.160
e37     426.240     426.240     426.240     426.240     426.240   26289.416   18932.583   13286.559    8838.135    5251.490    2276.240
e38     398.240     398.240     398.240     398.240     398.240   26805.345   19319.345   13559.630    9014.220    5345.197    2298.240
e39     368.160     368.160     368.160     368.160     368.160   27311.031   19699.531   13828.174    9187.000    5436.365    2318.160
e40     336.000     336.000     336.000     336.000     336.000   27806.476   20073.143   14092.190    9356.476    5524.995    2336.000
e41     301.760     301.760     301.760     301.760     301.760   28291.679   20440.179   14351.679    9522.648    5611.086    2351.760
e42     265.440     265.440     265.440     265.440     265.440   28766.640   20800.640   14606.640    9685.515    5694.640    2365.440
e43     227.040     227.040     227.040     227.040     227.040   29231.359   21154.526   14857.073    9845.078    5775.655    2377.040
e44     186.560     186.560     186.560     186.560     186.560   29685.836   21501.836   15102.979   10001.336    5854.132    2386.560
e45     144.000     144.000     144.000     144.000     144.000   30130.071   21842.571   15344.357   10154.290    5930.071    2394.000
e46      99.360      99.360      99.360      99.360      99.360   30523.760   22176.731   15581.208   10303.940    6003.472    2399.360
e47      52.640      52.640      52.640      52.640      52.640   30828.240   22504.316   15813.530   10450.285    6074.335    2402.640
e48       3.840       3.840       3.840       3.840       3.840   31117.440   22825.326   16041.326   10593.326    6142.659    2403.840
e49     -47.040     -47.040     -47.040     -47.040     -47.040   31391.360   23139.760   16264.593   10733.062    6208.445    2402.960
e50    -100.000    -100.000    -100.000    -100.000    -100.000    -100.000   23447.619   16483.333   10869.494    6271.693    2400.000"""

z = np.zeros(shape=(50,11))
i = 0
for p_raw in profit_raw.split('\n'):
    p = p_raw.split()[1:]
    z[i] = np.array(map(float, p))
    i +=1

### PLOT SLICES
alphas = [0.0,0.2,0.3,0.4,0.5,0.7,0.9]

x = np.arange(11.2,560.2,11.2)

for a in alphas:
	fig = plt.figure()
	plt.rc('text',usetex=True)
	plt.rc('font',family='serif')
	fig.suptitle(r'Results for $\alpha='+str(a)+'$')
	ax = fig.add_subplot(111)
	ax.grid(True)
	ax.spines['top'].set_visible(False)
	ax.spines['bottom'].set_smart_bounds(True)
	for loc, spine in ax.spines.items():
		if loc in ['left','bottom','right']:
			spine.set_position(('outward',10))

	ax.set_xlabel(r'Expected Capacity ($E[w(\omega)]$)')
#	ax.set_xlabel('Expected Capacity ($\mathbb{E}\big[w(\omega)\big]$)')
	ax.set_ylabel(r'Expected Profit of the renewable')
	ax.plot(x,z.T[int(a*10)])
	fig.savefig("foo"+str(a)+".png",bbox_inches='tight')





