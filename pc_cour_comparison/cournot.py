#!/usr/bin/python
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import numpy as np
import sys

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

ax.set_xlabel('RPS ($\\alpha$)')
ax.set_ylabel('Capacity ($q_r$)')
ax.set_zlabel('Profit of the renewable')

rps      = np.arange(0,1.1,0.1)
capacity = np.arange(10,501,10)

profit_raw   ="""e1      899.000    8122.900    4139.400    2810.456    2145.775    1746.900    1480.956    1290.982    1148.494    1037.665     949.000
e2     1796.000   16191.600    8257.600    5608.489    4283.100    3487.600    2957.156    2578.212    2293.975    2072.884    1896.000
e3     2691.000   24206.100   12354.600    8394.100    6411.975    5222.100    4428.600    3861.692    3436.444    3105.656    2841.000
e4     3584.000   32166.400   16430.400   11167.289    8532.400    6950.400    5895.289    5141.420    4575.900    4135.980    3784.000
e5     4475.000   40072.500   20485.000   13928.056   10644.375    8672.500    7357.222    6417.398    5712.344    5163.858    4725.000
e6     5364.000    5364.000   24518.400   16676.400   12747.900   10388.400    8814.400    7689.624    6845.775    6189.289    5664.000
e7     6251.000    6251.000   28530.600   19412.322   14842.975   12098.100   10266.822    8958.100    7976.194    7212.273    6601.000
e8     7136.000    7136.000   32521.600   22135.822   16929.600   13801.600   11714.489   10222.824    9103.600    8232.810    7536.000
e9     8019.000    8019.000   36491.400   24846.900   19007.775   15498.900   13157.400   11483.798   10227.994    9250.900    8469.000
e10    8900.000    8900.000   40440.000   27545.556   21077.500   17190.000   14595.556   12741.020   11349.375   10266.543    9400.000
e11    9779.000    9779.000   44367.400   30231.789   23138.775   18874.900   16028.956   13994.492   12467.744   11279.740   10329.000
e12   10656.000   10656.000   48273.600   32905.600   25191.600   20553.600   17457.600   15244.212   13583.100   12290.489   11256.000
e13   11531.000   11531.000   11531.000   35566.989   27235.975   22226.100   18881.489   16490.182   14695.444   13298.791   12181.000
e14   12404.000   12404.000   12404.000   38215.956   29271.900   23892.400   20300.622   17732.400   15804.775   14304.647   13104.000
e15   13275.000   13275.000   13275.000   40852.500   31299.375   25552.500   21715.000   18970.867   16911.094   15308.056   14025.000
e16   14144.000   14144.000   14144.000   43476.622   33318.400   27206.400   23124.622   20205.584   18014.400   16309.017   14944.000
e17   15011.000   15011.000   15011.000   46088.322   35328.975   28854.100   24529.489   21436.549   19114.694   17307.532   15861.000
e18   15876.000   15876.000   15876.000   48687.600   37331.100   30495.600   25929.600   22663.763   20211.975   18303.600   16776.000
e19   16739.000   16739.000   16739.000   51274.456   39324.775   32130.900   27324.956   23887.227   21306.244   19297.221   17689.000
e20   17600.000   17600.000   17600.000   53848.889   41310.000   33760.000   28715.556   25106.939   22397.500   20288.395   18600.000
e21   18459.000   18459.000   18459.000   56410.900   43286.775   35382.900   30101.400   26322.900   23485.744   21277.122   19509.000
e22   19316.000   19316.000   19316.000   19316.000   45255.100   36999.600   31482.489   27535.110   24570.975   22263.402   20416.000
e23   20171.000   20171.000   20171.000   20171.000   47214.975   38610.100   32858.822   28743.569   25653.194   23247.236   21321.000
e24   21024.000   21024.000   21024.000   21024.000   49166.400   40214.400   34230.400   29948.278   26732.400   24228.622   22224.000
e25   21875.000   21875.000   21875.000   21875.000   51109.375   41812.500   35597.222   31149.235   27808.594   25207.562   23125.000
e26   22724.000   22724.000   22724.000   22724.000   53043.900   43404.400   36959.289   32346.441   28881.775   26184.054   24024.000
e27   23571.000   23571.000   23571.000   23571.000   54969.975   44990.100   38316.600   33539.896   29951.944   27158.100   24921.000
e28   24416.000   24416.000   24416.000   24416.000   56887.600   46569.600   39669.156   34729.600   31019.100   28129.699   25816.000
e29   25259.000   25259.000   25259.000   25259.000   58796.775   48142.900   41016.956   35915.553   32083.244   29098.851   26709.000
e30   26100.000   26100.000   26100.000   26100.000   60697.500   49710.000   42360.000   37097.755   33144.375   30065.556   27600.000
e31   26939.000   26939.000   26939.000   26939.000   62589.775   51270.900   43698.289   38276.206   34202.494   31029.814   28489.000
e32   27776.000   27776.000   27776.000   27776.000   64473.600   52825.600   45031.822   39450.906   35257.600   31991.625   29376.000
e33   28611.000   28611.000   28611.000   28611.000   66348.975   54374.100   46360.600   40621.855   36309.694   32950.989   30261.000
e34   29444.000   29444.000   29444.000   29444.000   29444.000   55916.400   47684.622   41789.053   37358.775   33907.906   31144.000
e35   30275.000   30275.000   30275.000   30275.000   30275.000   57452.500   49003.889   42952.500   38404.844   34862.377   32025.000
e36   31104.000   31104.000   31104.000   31104.000   31104.000   58982.400   50318.400   44112.196   39447.900   35814.400   32904.000
e37   31931.000   31931.000   31931.000   31931.000   31931.000   60506.100   51628.156   45268.141   40487.944   36763.977   33781.000
e38   32756.000   32756.000   32756.000   32756.000   32756.000   62023.600   52933.156   46420.335   41524.975   37711.106   34656.000
e39   33579.000   33579.000   33579.000   33579.000   33579.000   63534.900   54233.400   47568.778   42558.994   38655.789   35529.000
e40   34400.000   34400.000   34400.000   34400.000   34400.000   65040.000   55528.889   48713.469   43590.000   39598.025   36400.000
e41   35219.000   35219.000   35219.000   35219.000   35219.000   66538.900   56819.622   49854.410   44617.994   40537.814   37269.000
e42   36036.000   36036.000   36036.000   36036.000   36036.000   68031.600   58105.600   50991.600   45642.975   41475.156   38136.000
e43   36851.000   36851.000   36851.000   36851.000   36851.000   69518.100   59386.822   52125.039   46664.944   42410.051   39001.000
e44   37664.000   37664.000   37664.000   37664.000   37664.000   70998.400   60663.289   53254.727   47683.900   43342.499   39864.000
e45   38475.000   38475.000   38475.000   38475.000   38475.000   72472.500   61935.000   54380.663   48699.844   44272.500   40725.000
e46   39284.000   39284.000   39284.000   39284.000   39284.000   73940.400   63201.956   55502.849   49712.775   45200.054   41584.000
e47   40091.000   40091.000   40091.000   40091.000   40091.000   75402.100   64464.156   56621.284   50722.694   46125.162   42441.000
e48   40896.000   40896.000   40896.000   40896.000   40896.000   76857.600   65721.600   57735.967   51729.600   47047.822   43296.000
e49   41699.000   41699.000   41699.000   41699.000   41699.000   78306.900   66974.289   58846.900   52733.494   47968.036   44149.000
e50   42500.000   42500.000   42500.000   42500.000   42500.000   42500.000   68222.222   59954.082   53734.375   48885.802   45000.000"""

z = np.zeros(shape=(50,11))
i = 0
for p_raw in profit_raw.split('\n'):
    p = p_raw.split()[1:]
    z[i] = np.array(map(float, p))
    i +=1

x,y = np.meshgrid(rps,capacity)

ax.plot_surface(x, y, z, rstride=10, cstride=10)
plt.show()

#fig.savefig('foo.png',bbox_inches='tight')

