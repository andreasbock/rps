#!/usr/bin/python
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
from pylab import *
import numpy as np
import sys

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

ax.set_xlabel('RPS ($\\alpha$)')
ax.set_ylabel('Capacity ($w$)')
ax.set_zlabel('Cournot profit - PC profit')

rps      = np.arange(0,1.1,0.1)
capacity = np.arange(10,501,10)

profit_pc_raw   ="""e1      899.000    8041.900    4123.400    2805.011    2143.525    1745.900    1480.511    1290.798    1148.431    1037.653     949.000
e2     1796.000   15867.600    8193.600    5586.711    4274.100    3483.600    2955.378    2577.478    2293.725    2072.835    1896.000
e3     2691.000   23477.100   12210.600    8345.100    6391.725    5213.100    4424.600    3860.039    3435.881    3105.544    2841.000
e4     3584.000   30870.400   16174.400   11080.178    8496.400    6934.400    5888.178    5138.482    4574.900    4135.783    3784.000
e5     4475.000   38047.500   20085.000   13791.944   10588.125    8647.500    7346.111    6412.806    5710.781    5163.549    4725.000
e6     5364.000    5364.000   23942.400   16480.400   12666.900   10352.400    8798.400    7683.012    6843.525    6188.844    5664.000
e7     6251.000    6251.000   27746.600   19145.544   14732.725   12049.100   10245.044    8949.100    7973.131    7211.668    6601.000
e8     7136.000    7136.000   31497.600   21787.378   16785.600   13737.600   11686.044   10211.069    9099.600    8232.020    7536.000
e9     8019.000    8019.000   35195.400   24405.900   18825.525   15417.900   13121.400   11468.920   10222.931    9249.900    8469.000
e10    8900.000    8900.000   38840.000   27001.111   20852.500   17090.000   14551.111   12722.653   11343.125   10265.309    9400.000
e11    9779.000    9779.000   42431.400   29573.011   22866.525   18753.900   15975.178   13972.267   12460.181   11278.246   10329.000
e12   10656.000   10656.000   45969.600   32121.600   24867.600   20409.600   17393.600   15217.763   13574.100   12288.711   11256.000
e13   11531.000   11531.000   11531.000   34646.878   26855.725   22057.100   18806.378   16459.141   14684.881   13296.705   12181.000
e14   12404.000   12404.000   12404.000   37148.844   28830.900   23696.400   20213.511   17696.400   15792.525   14302.227   13104.000
e15   13275.000   13275.000   13275.000   39627.500   30793.125   25327.500   21615.000   18929.541   16897.031   15305.278   14025.000
e16   14144.000   14144.000   14144.000   42082.844   32742.400   26950.400   23010.844   20158.563   17998.400   16305.857   14944.000
e17   15011.000   15011.000   15011.000   44514.878   34678.725   28565.100   24401.044   21383.467   19096.631   17303.964   15861.000
e18   15876.000   15876.000   15876.000   46923.600   36602.100   30171.600   25785.600   22604.253   20191.725   18299.600   16776.000
e19   16739.000   16739.000   16739.000   49309.011   38512.525   31769.900   27164.511   23820.920   21283.681   19292.764   17689.000
e20   17600.000   17600.000   17600.000   51671.111   40410.000   33360.000   28537.778   25033.469   22372.500   20283.457   18600.000
e21   18459.000   18459.000   18459.000   54009.900   42294.525   34941.900   29905.400   26241.900   23458.181   21271.678   19509.000
e22   19316.000   19316.000   19316.000   19316.000   44166.100   36515.600   31267.378   27446.212   24540.725   22257.427   20416.000
e23   20171.000   20171.000   20171.000   20171.000   46024.725   38081.100   32623.711   28646.406   25620.131   23240.705   21321.000
e24   21024.000   21024.000   21024.000   21024.000   47870.400   39638.400   33974.400   29842.482   26696.400   24221.511   22224.000
e25   21875.000   21875.000   21875.000   21875.000   49703.125   41187.500   35319.444   31034.439   27769.531   25199.846   23125.000
e26   22724.000   22724.000   22724.000   22724.000   51522.900   42728.400   36658.844   32222.278   28839.525   26175.709   24024.000
e27   23571.000   23571.000   23571.000   23571.000   53329.725   44261.100   37992.600   33405.998   29906.381   27149.100   24921.000
e28   24416.000   24416.000   24416.000   24416.000   55123.600   45785.600   39320.711   34585.600   30970.100   28120.020   25816.000
e29   25259.000   25259.000   25259.000   25259.000   56904.525   47301.900   40643.178   35761.084   32030.681   29088.468   26709.000
e30   26100.000   26100.000   26100.000   26100.000   58672.500   48810.000   41960.000   36932.449   33088.125   30054.444   27600.000
e31   26939.000   26939.000   26939.000   26939.000   60427.525   50309.900   43271.178   38099.696   34142.431   31017.949   28489.000
e32   27776.000   27776.000   27776.000   27776.000   62169.600   51801.600   44576.711   39262.824   35193.600   31978.983   29376.000
e33   28611.000   28611.000   28611.000   28611.000   63898.725   53285.100   45876.600   40421.835   36241.631   32937.544   30261.000
e34   29444.000   29444.000   29444.000   29444.000   29444.000   54760.400   47170.844   41576.727   37286.525   33893.635   31144.000
e35   30275.000   30275.000   30275.000   30275.000   30275.000   56227.500   48459.444   42727.500   38328.281   34847.253   32025.000
e36   31104.000   31104.000   31104.000   31104.000   31104.000   57686.400   49742.400   43874.155   39366.900   35798.400   32904.000
e37   31931.000   31931.000   31931.000   31931.000   31931.000   59137.100   51019.711   45016.692   40402.381   36747.075   33781.000
e38   32756.000   32756.000   32756.000   32756.000   32756.000   60579.600   52291.378   46155.110   41434.725   37693.279   34656.000
e39   33579.000   33579.000   33579.000   33579.000   33579.000   62013.900   53557.400   47289.410   42463.931   38637.011   35529.000
e40   34400.000   34400.000   34400.000   34400.000   34400.000   63440.000   54817.778   48419.592   43490.000   39578.272   36400.000
e41   35219.000   35219.000   35219.000   35219.000   35219.000   64857.900   56072.511   49545.655   44512.931   40517.060   37269.000
e42   36036.000   36036.000   36036.000   36036.000   36036.000   66267.600   57321.600   50667.600   45532.725   41453.378   38136.000
e43   36851.000   36851.000   36851.000   36851.000   36851.000   67669.100   58565.044   51785.427   46549.381   42387.223   39001.000
e44   37664.000   37664.000   37664.000   37664.000   37664.000   69062.400   59802.844   52899.135   47562.900   43318.598   39864.000
e45   38475.000   38475.000   38475.000   38475.000   38475.000   70447.500   61035.000   54008.724   48573.281   44247.500   40725.000
e46   39284.000   39284.000   39284.000   39284.000   39284.000   71824.400   62261.511   55114.196   49580.525   45173.931   41584.000
e47   40091.000   40091.000   40091.000   40091.000   40091.000   73193.100   63482.378   56215.549   50584.631   46097.890   42441.000
e48   40896.000   40896.000   40896.000   40896.000   40896.000   74553.600   64697.600   57312.784   51585.600   47019.378   43296.000
e49   41699.000   41699.000   41699.000   41699.000   41699.000   75905.900   65907.178   58405.900   52583.431   47938.394   44149.000
e50   42500.000   42500.000   42500.000   42500.000   42500.000   42500.000   67111.111   59494.898   53578.125   48854.938   45000.000"""

profit_cournot_raw   ="""e1      899.000    7960.900    4107.400    2799.567    2141.275    1744.900    1480.067    1290.614    1148.369    1037.641     949.000
e2     1796.000   15543.600    8129.600    5564.933    4265.100    3479.600    2953.600    2576.743    2293.475    2072.785    1896.000
e3     2691.000   22748.100   12066.600    8296.100    6371.475    5204.100    4420.600    3858.386    3435.319    3105.433    2841.000
e4     3584.000   29574.400   15918.400   10993.067    8460.400    6918.400    5881.067    5135.543    4573.900    4135.585    3784.000
e5     4475.000   36022.500   19685.000   13655.833   10531.875    8622.500    7335.000    6408.214    5709.219    5163.241    4725.000
e6     5364.000    5364.000   23366.400   16284.400   12585.900   10316.400    8782.400    7676.400    6841.275    6188.400    5664.000
e7     6251.000    6251.000   26962.600   18878.767   14622.475   12000.100   10223.267    8940.100    7970.069    7211.063    6601.000
e8     7136.000    7136.000   30473.600   21438.933   16641.600   13673.600   11657.600   10199.314    9095.600    8231.230    7536.000
e9     8019.000    8019.000   33899.400   23964.900   18643.275   15336.900   13085.400   11454.043   10217.869    9248.900    8469.000
e10    8900.000    8900.000   37240.000   26456.667   20627.500   16990.000   14506.667   12704.286   11336.875   10264.074    9400.000
e11    9779.000    9779.000   40495.400   28914.233   22594.275   18632.900   15921.400   13950.043   12452.619   11276.752   10329.000
e12   10656.000   10656.000   43665.600   31337.600   24543.600   20265.600   17329.600   15191.314   13565.100   12286.933   11256.000
e13   11531.000   11531.000   11531.000   33726.767   26475.475   21888.100   18731.267   16428.100   14674.319   13294.619   12181.000
e14   12404.000   12404.000   12404.000   36081.733   28389.900   23500.400   20126.400   17660.400   15780.275   14299.807   13104.000
e15   13275.000   13275.000   13275.000   38402.500   30286.875   25102.500   21515.000   18888.214   16882.969   15302.500   14025.000
e16   14144.000   14144.000   14144.000   40689.067   32166.400   26694.400   22897.067   20111.543   17982.400   16302.696   14944.000
e17   15011.000   15011.000   15011.000   42941.433   34028.475   28276.100   24272.600   21330.386   19078.569   17300.396   15861.000
e18   15876.000   15876.000   15876.000   45159.600   35873.100   29847.600   25641.600   22544.743   20171.475   18295.600   16776.000
e19   16739.000   16739.000   16739.000   47343.567   37700.275   31408.900   27004.067   23754.614   21261.119   19288.307   17689.000
e20   17600.000   17600.000   17600.000   49493.333   39510.000   32960.000   28360.000   24960.000   22347.500   20278.519   18600.000
e21   18459.000   18459.000   18459.000   51608.900   41302.275   34500.900   29709.400   26160.900   23430.619   21266.233   19509.000
e22   19316.000   19316.000   19316.000   19316.000   43077.100   36031.600   31052.267   27357.314   24510.475   22251.452   20416.000
e23   20171.000   20171.000   20171.000   20171.000   44834.475   37552.100   32388.600   28549.243   25587.069   23234.174   21321.000
e24   21024.000   21024.000   21024.000   21024.000   46574.400   39062.400   33718.400   29736.686   26660.400   24214.400   22224.000
e25   21875.000   21875.000   21875.000   21875.000   48296.875   40562.500   35041.667   30919.643   27730.469   25192.130   23125.000
e26   22724.000   22724.000   22724.000   22724.000   50001.900   42052.400   36358.400   32098.114   28797.275   26167.363   24024.000
e27   23571.000   23571.000   23571.000   23571.000   51689.475   43532.100   37668.600   33272.100   29860.819   27140.100   24921.000
e28   24416.000   24416.000   24416.000   24416.000   53359.600   45001.600   38972.267   34441.600   30921.100   28110.341   25816.000
e29   25259.000   25259.000   25259.000   25259.000   55012.275   46460.900   40269.400   35606.614   31978.119   29078.085   26709.000
e30   26100.000   26100.000   26100.000   26100.000   56647.500   47910.000   41560.000   36767.143   33031.875   30043.333   27600.000
e31   26939.000   26939.000   26939.000   26939.000   58265.275   49348.900   42844.067   37923.186   34082.369   31006.085   28489.000
e32   27776.000   27776.000   27776.000   27776.000   59865.600   50777.600   44121.600   39074.743   35129.600   31966.341   29376.000
e33   28611.000   28611.000   28611.000   28611.000   61448.475   52196.100   45392.600   40221.814   36173.569   32924.100   30261.000
e34   29444.000   29444.000   29444.000   29444.000   29444.000   53604.400   46657.067   41364.400   37214.275   33879.363   31144.000
e35   30275.000   30275.000   30275.000   30275.000   30275.000   55002.500   47915.000   42502.500   38251.719   34832.130   32025.000
e36   31104.000   31104.000   31104.000   31104.000   31104.000   56390.400   49166.400   43636.114   39285.900   35782.400   32904.000
e37   31931.000   31931.000   31931.000   31931.000   31931.000   57768.100   50411.267   44765.243   40316.819   36730.174   33781.000
e38   32756.000   32756.000   32756.000   32756.000   32756.000   59135.600   51649.600   45889.886   41344.475   37675.452   34656.000
e39   33579.000   33579.000   33579.000   33579.000   33579.000   60492.900   52881.400   47010.043   42368.869   38618.233   35529.000
e40   34400.000   34400.000   34400.000   34400.000   34400.000   61840.000   54106.667   48125.714   43390.000   39558.519   36400.000
e41   35219.000   35219.000   35219.000   35219.000   35219.000   63176.900   55325.400   49236.900   44407.869   40496.307   37269.000
e42   36036.000   36036.000   36036.000   36036.000   36036.000   64503.600   56537.600   50343.600   45422.475   41431.600   38136.000
e43   36851.000   36851.000   36851.000   36851.000   36851.000   65820.100   57743.267   51445.814   46433.819   42364.396   39001.000
e44   37664.000   37664.000   37664.000   37664.000   37664.000   67126.400   58942.400   52543.543   47441.900   43294.696   39864.000
e45   38475.000   38475.000   38475.000   38475.000   38475.000   68422.500   60135.000   53636.786   48446.719   44222.500   40725.000
e46   39284.000   39284.000   39284.000   39284.000   39284.000   69708.400   61321.067   54725.543   49448.275   45147.807   41584.000
e47   40091.000   40091.000   40091.000   40091.000   40091.000   70984.100   62500.600   55809.814   50446.569   46070.619   42441.000
e48   40896.000   40896.000   40896.000   40896.000   40896.000   72249.600   63673.600   56889.600   51441.600   46990.933   43296.000
e49   41699.000   41699.000   41699.000   41699.000   41699.000   73504.900   64840.067   57964.900   52433.369   47908.752   44149.000
e50   42500.000   42500.000   42500.000   42500.000   42500.000   42500.000   66000.000   59035.714   53421.875   48824.074   45000.000"""

pc =np.zeros(shape=(50,11))
cournot =np.zeros(shape=(50,11))

i = 0
for p_raw in profit_pc_raw.split('\n'):
    p = p_raw.split()[1:]
    pc[i] = np.array(map(float, p))
    i +=1
i=0
for p_raw in profit_cournot_raw.split('\n'):
    p = p_raw.split()[1:]
    cournot[i] = np.array(map(float, p))
    i +=1

z=(cournot-pc)
x,y = np.meshgrid(rps,capacity)

ax.plot_surface(x, y, z, rstride=10, cstride=10)
#plt.show()
fig.savefig('foo.png',bbox_inches='tight')

